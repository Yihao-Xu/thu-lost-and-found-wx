<!--pages/found-info/found-info.wxml-->
<wxs src="../../wxs/lib.wxs" module="tools"></wxs>
<view>
  <div class="header">
    <image wx:if="this.data.infoData.images!=null" class="title-pic" src="{{infoData.images[0].url}}" mode="widthFix">
    </image>
    <div id="headerInfo">
      <text class="object-name-text">{{infoData.property.name}}</text>
      <text class="sort-text">{{infoData.property.template}}</text>
    </div>
    <image class="moreBtn" src="/image/more.png" bindtap="moreOnShow"></image>

  </div>
  <van-cell-group title="拾取情况">
    <van-cell title="拾取时间" icon="clock-o" value="{{tools.timeTrans(infoData.found_datetime)}}"></van-cell>
    <van-cell title="拾取地点" icon="location-o" value="{{infoData.found_location.name}}" is-link bindtap="openMap"></van-cell>
    <van-cell title="拾取者" icon="contact" value="{{infoData.author.username}}"></van-cell>
    <van-panel title="拾取详情" wx:if="{{infoData.description !== ''}}">
      <view class="description">{{infoData.description}}</view>
    </van-panel>
  </van-cell-group>

  <van-cell-group title="物品特征">
    <van-cell title="物品种类" icon="apps-o" value="{{infoData.property.template}}"></van-cell>
    <van-cell wx:for="{{infoData.property.attributes}}" wx:for-index="key" wx:for-item="item" title="{{key}}"
      value="{{item}}" icon="circle"></van-cell>
    <van-cell icon="label-o" title="标签" wx:if="{{infoData.property.tags !== null}}">
      <van-tag wx:for="{{infoData.property.tags}}" plain style="margin:10rpx;" color="{{item.color}}">{{item.name}}
      </van-tag>
    </van-cell>
    <van-cell title="状态" icon="info-o" value="{{tools.acronymTrans(infoData.status)}}"></van-cell>
    <van-panel title="物品详情" wx:if="{{infoData.property.description !== ''}}">
      <view class="description">{{infoData.property.description}}</view>
    </van-panel>
  </van-cell-group>
  <view>
    <div class="card-pic">
      <image wx:for="{{infoData.images}}" class="image" src="{{item.url}}" bindtap="showPicture" data-index="{{index}}"
        data-currentUrl="{{item.url}}" mode="aspectFill" />

    </div>
  </view>
  <van-cell-group title="联系方式">
    <van-cell wx:for="{{infoData.contacts}}" title="{{item.name}}" label="{{tools.acronymTrans(item.method)}}"
      value="{{item.details}}"></van-cell>
  </van-cell-group>
  <van-action-sheet show="{{moreShow}}" actions="{{actions}}" bind:select="onSelect" bind:close="onClose"></van-action-sheet>
  <van-button wx:if="{{myInfo.id !== infoData.author.id && scene !== 1154}}" type="primary" class="button" bindtap="contact" block>是我的？联系拾到者</van-button>
  <van-dialog id="van-dialog" />
  <!-- <van-button wx:if="{{myInfo.id === infoData.author.id}}" type="primary" class="button" block bindtap="edit">编辑启事
  </van-button>
  <van-button wx:if="{{myInfo.id === infoData.author.id}}" type="danger" class="button" block bindtap="delete">删除启事
  </van-button> -->
</view>